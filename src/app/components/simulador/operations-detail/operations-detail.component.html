<div class="container">
  <h2 class="title">Simulador - Detalle de Operaciones</h2>

  <mat-card class="filter-card">
    <div class="filters d-flex justify-content-between align-items-center">
      <div class="filter-date-range">
        <mat-form-field appearance="outline">
          <mat-label>Desde</mat-label>
          <input matInput [matDatepicker]="startDate" />
          <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
          <mat-datepicker #startDate></mat-datepicker>
        </mat-form-field>
        
        <mat-form-field appearance="outline">
          <mat-label>Hasta</mat-label>
          <input matInput [matDatepicker]="endDate" />
          <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
          <mat-datepicker #endDate></mat-datepicker>
        </mat-form-field>
        
        <button mat-raised-button color="primary">Buscar</button>
      </div>

      <div class="download-buttons">
        <button mat-raised-button color="accent">Excel</button>
        <button mat-raised-button color="accent">JSON</button>
        <button mat-raised-button color="accent">PDF</button>
      </div>
    </div>
  </mat-card>

  <!-- Contenedor responsivo para la tabla -->
  <div class="mat-table-wrapper">
    <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="transactionNumber">
        <mat-header-cell *matHeaderCellDef>Nº de Trans.</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.transactionNumber }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="orderDate">
        <mat-header-cell *matHeaderCellDef>Fecha orden</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.orderDate }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="type">
        <mat-header-cell *matHeaderCellDef>Tipo</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.type }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="status">
        <mat-header-cell *matHeaderCellDef>Estado</mat-header-cell>
        <mat-cell *matCellDef="let element">
          <mat-icon [color]="element.status === 'Finalizado' ? 'warn' : 'primary'">
            {{ element.status === 'Finalizado' ? 'cancel' : 'check_circle' }}
          </mat-icon>
        </mat-cell>
      </ng-container>
      <ng-container matColumnDef="symbol">
        <mat-header-cell *matHeaderCellDef>Símbolo</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.symbol }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="cant">
        <mat-header-cell *matHeaderCellDef>Cantidad</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.cant }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="price">
        <mat-header-cell *matHeaderCellDef>Precio</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.price }}</mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  </div>

  <div style="display: flex; align-items: center; gap: 1rem;">
    <button mat-raised-button color="primary" class="download-btn">
      Descargar Operaciones Finalizadas
    </button>

    <a routerLink="/home/simulation" mat-raised-button color="primary" style="margin-top: 1rem;">
      Volver
    </a>
  </div>
</div>